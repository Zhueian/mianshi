
    1。秒杀的本质：客户端有瞬时很大的请求，这个请求不能落到db层；
                这个峰需要销下来，用kafka redis存下，在秒杀过一段时间系统缓下来之后，填谷。
                这个填谷要与数据库的库存对得上，不能超卖，卖剩少量是可以接受的。
                话术：秒杀1000台金米手机，我觉得有两种方案：
                    1。设置个秒杀5分钟倒计时，redis存下所有的用户手机号，前端的话反给用户一个模棱两可的静态页面如：小翼在努力抢啦
                    （不展示还剩多少或者说是个前端的慢慢递减的假象，淘宝就这么干过）。
                        然后系统去重取前100个手机号，空闲时插入表减库存，每条成功异步发信息也好，消息推送也好，告知用户。
                    2。redis监听维护个1000长度的队列作为前端展示 aqueue<手机商品编号>，再监听维护一个0长度的map amap<用户唯一标识，手机商品编号>；
                        在一个是redis的已经抢到set<用户唯一标识>名单过滤。往后就跟方式一样落库了。

